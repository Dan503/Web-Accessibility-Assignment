{"version":3,"sources":["js/index.js"],"names":["console","log","$","document","ready","setup_navigation","addClass","$menu","$menulink","$menuTrigger","click","e","preventDefault","toggleClass","next","keyCodeMap","fn","settings","jQuery","extend","menuHoverClass","attr","find","top_level_links","each","length","parent","hover","closest","removeClass","focus","keydown","keyCode","prev","parents","last","first","text","substring","toLowerCase","links","window","location","found","nextAll","prevAll","stopPropagation"],"mappings":"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","file":"js.94ebc6b1.js","sourceRoot":"../src","sourcesContent":["console.log('parcel works')\n\n$(document).ready(function() {\n    // Setup the a11y nav\n    $('.nav').setup_navigation();\n    \n    // RWD Nav Pattern\n    $('body').addClass('js');\n    var $menu = $('#menu'),\n        $menulink = $('.menu-link'),\n        $menuTrigger = $('.has-subnav > a');\n  \n        $menulink.click(function(e) {\n            e.preventDefault();\n            $menulink.toggleClass('active');\n            $menu.toggleClass('active');\n        });\n          \n        $menuTrigger.click(function(e) {\n            e.preventDefault();\n            var $this = $(this);\n            $this.toggleClass('active').next('ul').toggleClass('active');\n        });\n});\n\nvar keyCodeMap = {\n    48:\"0\", 49:\"1\", 50:\"2\", 51:\"3\", 52:\"4\", 53:\"5\", 54:\"6\", 55:\"7\", 56:\"8\", 57:\"9\", 59:\";\",\n    65:\"a\", 66:\"b\", 67:\"c\", 68:\"d\", 69:\"e\", 70:\"f\", 71:\"g\", 72:\"h\", 73:\"i\", 74:\"j\", 75:\"k\", 76:\"l\",\n    77:\"m\", 78:\"n\", 79:\"o\", 80:\"p\", 81:\"q\", 82:\"r\", 83:\"s\", 84:\"t\", 85:\"u\", 86:\"v\", 87:\"w\", 88:\"x\", 89:\"y\", 90:\"z\",\n    96:\"0\", 97:\"1\", 98:\"2\", 99:\"3\", 100:\"4\", 101:\"5\", 102:\"6\", 103:\"7\", 104:\"8\", 105:\"9\"\n}\n  \n$.fn.setup_navigation = function(settings) {\n  \n    settings = jQuery.extend({\n        menuHoverClass: 'show-menu',\n    }, settings);\n    \n    // Add ARIA role to menubar and menu items\n    $(this).attr('role', 'menubar').find('li').attr('role', 'menuitem');\n    \n    var top_level_links = $(this).find('> li > a');\n\n    // Added by Terrill: (removed temporarily: doesn't fix the JAWS problem after all)\n    // Add tabindex=\"0\" to all top-level links \n    // Without at least one of these, JAWS doesn't read widget as a menu, despite all the other ARIA\n    //$(top_level_links).attr('tabindex','0');\n    \n    // Set tabIndex to -1 so that top_level_links can't receive focus until menu is open\n    $(top_level_links).next('ul')\n        .attr('data-test','true')\n        .attr({ 'aria-hidden': 'true', 'role': 'menu' })\n        .find('a')\n        .attr('tabIndex',-1);\n    \n    // Adding aria-haspopup for appropriate items\n    $(top_level_links).each(function(){\n        if($(this).next('ul').length > 0)\n            $(this).parent('li').attr('aria-haspopup', 'true');\n    });\n    \n    $(top_level_links).hover(function(){\n        $(this).closest('ul') \n            .attr('aria-hidden', 'false')\n            .find('.'+settings.menuHoverClass)\n            .attr('aria-hidden', 'true')\n            .removeClass(settings.menuHoverClass)\n            .find('a')\n            .attr('tabIndex',-1);\n        $(this).next('ul')\n            .attr('aria-hidden', 'false')\n            .addClass(settings.menuHoverClass)\n            .find('a').attr('tabIndex',0);\n    });\n\n    $(top_level_links).focus(function(){\n        $(this).closest('ul')\n            .find('.'+settings.menuHoverClass)\n            .attr('aria-hidden', 'true')\n            .removeClass(settings.menuHoverClass)\n            .find('a')\n            .attr('tabIndex',-1);\n        \n    $(this).next('ul')\n        .attr('aria-hidden', 'false')\n        .addClass(settings.menuHoverClass)\n        .find('a').attr('tabIndex',0);\n    });\n    \n    // Bind arrow keys for navigation\n    $(top_level_links).keydown(function(e){\n        if(e.keyCode == 37) {\n            e.preventDefault();\n            // This is the first item\n            if($(this).parent('li').prev('li').length == 0) {\n                $(this).parents('ul').find('> li').last().find('a').first().focus();\n            } else {\n                $(this).parent('li').prev('li').find('a').first().focus();\n            }\n        } else if(e.keyCode == 38) {\n            e.preventDefault();\n            if($(this).parent('li').find('ul').length > 0) {\n                $(this).parent('li').find('ul')\n                    .attr('aria-hidden', 'false')\n                    .addClass(settings.menuHoverClass)\n                    .find('a').attr('tabIndex',0)\n                    .last().focus();\n            }\n        } else if(e.keyCode == 39) {\n            e.preventDefault();\n            // This is the last item\n            if($(this).parent('li').next('li').length == 0) {\n                $(this).parents('ul').find('> li').first().find('a').first().focus();\n            } else {\n                $(this).parent('li').next('li').find('a').first().focus();\n            }\n        } else if(e.keyCode == 40) {\n            e.preventDefault();\n            if($(this).parent('li').find('ul').length > 0) {\n                $(this).parent('li').find('ul')\n                    .attr('aria-hidden', 'false')\n                    .addClass(settings.menuHoverClass)\n                    .find('a').attr('tabIndex',0)\n                    .first().focus();\n            }\n        } else if(e.keyCode == 13 || e.keyCode == 32) {\n            // If submenu is hidden, open it\n            e.preventDefault();\n            $(this).parent('li').find('ul[aria-hidden=true]')\n                    .attr('aria-hidden', 'false')\n                    .addClass(settings.menuHoverClass)\n                    .find('a').attr('tabIndex',0)\n                    .first().focus();\n        } else if(e.keyCode == 27) {\n            e.preventDefault();\n            $('.'+settings.menuHoverClass)\n                .attr('aria-hidden', 'true')\n                .removeClass(settings.menuHoverClass)\n                .find('a')\n                .attr('tabIndex',-1);\n        } else {\n            $(this).parent('li').find('ul[aria-hidden=false] a').each(function(){\n                if($(this).text().substring(0,1).toLowerCase() == keyCodeMap[e.keyCode]) {\n                    $(this).focus();\n                    return false;\n                }\n            });\n        }\n    });\n    \n    \n    var links = $(top_level_links).parent('li').find('ul').find('a');\n    $(links).keydown(function(e){\n        if(e.keyCode == 38) {\n            e.preventDefault();\n            // This is the first item\n            if($(this).parent('li').prev('li').length == 0) {\n                $(this).parents('ul').parents('li').find('a').first().focus();\n            } else {\n                $(this).parent('li').prev('li').find('a').first().focus();\n            }\n        } else if(e.keyCode == 40) {\n            e.preventDefault();\n            if($(this).parent('li').next('li').length == 0) {\n                $(this).parents('ul').parents('li').find('a').first().focus();\n            } else {\n                $(this).parent('li').next('li').find('a').first().focus();\n            }\n        } else if(e.keyCode == 27 || e.keyCode == 37) {\n            e.preventDefault();\n            $(this)\n                .parents('ul').first()\n                    .prev('a').focus()\n                    .parents('ul').first().find('.'+settings.menuHoverClass)\n                    .attr('aria-hidden', 'true')\n                    .removeClass(settings.menuHoverClass)\n                    .find('a')\n                    .attr('tabIndex',-1);\n        } else if(e.keyCode == 32) {\n            e.preventDefault();\n            window.location = $(this).attr('href');\n        } else {\n            var found = false;\n            $(this).parent('li').nextAll('li').find('a').each(function(){\n                if($(this).text().substring(0,1).toLowerCase() == keyCodeMap[e.keyCode]) {\n                    $(this).focus();\n                    found = true;\n                    return false;\n                }\n            });\n            \n            if(!found) {\n                $(this).parent('li').prevAll('li').find('a').each(function(){\n                    if($(this).text().substring(0,1).toLowerCase() == keyCodeMap[e.keyCode]) {\n                        $(this).focus();\n                        return false;\n                    }\n                });\n            }\n        }\n    });\n\n    // Hide menu if click or focus occurs outside of navigation\n    $(this).find('a').last().keydown(function(e){ \n        if(e.keyCode == 9) {\n            // If the user tabs out of the navigation hide all menus\n            $('.'+settings.menuHoverClass)\n                .attr('aria-hidden', 'true')\n                .removeClass(settings.menuHoverClass)\n                .find('a')\n                    .attr('tabIndex',-1);\n        }\n    });\n\n$(document).click(function(){ $('.'+settings.menuHoverClass).attr('aria-hidden', 'true').removeClass(settings.menuHoverClass).find('a').attr('tabIndex',-1); });\n    \n    $(this).click(function(e){\n        e.stopPropagation();\n    });\n}\n"]}