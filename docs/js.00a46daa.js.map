{"version":3,"sources":["js/index.js"],"names":["console","log","$","document","ready","setup_navigation","addClass","$menu","$menulink","$menuTrigger","click","e","preventDefault","toggleClass","$this","next","keyCodeMap","fn","settings","jQuery","extend","menuHoverClass","attr","find","top_level_links","each","length","parent","hover","closest","removeClass","focus","keydown","keyCode","prev","parents","last","first","text","substring","toLowerCase","links","window","location","found","nextAll","prevAll","stopPropagation"],"mappings":"AAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;AAEAC,CAAC,CAACC,QAAD,CAAD,CAAYC,KAAZ,CAAkB,YAAW;AACzB;AACAF,EAAAA,CAAC,CAAC,MAAD,CAAD,CAAUG,gBAAV,GAFyB,CAIzB;;AACAH,EAAAA,CAAC,CAAC,MAAD,CAAD,CAAUI,QAAV,CAAmB,IAAnB;AACA,MAAIC,KAAK,GAAGL,CAAC,CAAC,OAAD,CAAb;AAAA,MACIM,SAAS,GAAGN,CAAC,CAAC,YAAD,CADjB;AAAA,MAEIO,YAAY,GAAGP,CAAC,CAAC,iBAAD,CAFpB;AAIIM,EAAAA,SAAS,CAACE,KAAV,CAAgB,UAASC,CAAT,EAAY;AACxBA,IAAAA,CAAC,CAACC,cAAF;AACAJ,IAAAA,SAAS,CAACK,WAAV,CAAsB,QAAtB;AACAN,IAAAA,KAAK,CAACM,WAAN,CAAkB,QAAlB;AACH,GAJD;AAMAJ,EAAAA,YAAY,CAACC,KAAb,CAAmB,UAASC,CAAT,EAAY;AAC3BA,IAAAA,CAAC,CAACC,cAAF;AACA,QAAIE,KAAK,GAAGZ,CAAC,CAAC,IAAD,CAAb;AACAY,IAAAA,KAAK,CAACD,WAAN,CAAkB,QAAlB,EAA4BE,IAA5B,CAAiC,IAAjC,EAAuCF,WAAvC,CAAmD,QAAnD;AACH,GAJD;AAKP,CArBD;AAuBA,IAAIG,UAAU,GAAG;AACb,MAAG,GADU;AACL,MAAG,GADE;AACG,MAAG,GADN;AACW,MAAG,GADd;AACmB,MAAG,GADtB;AAC2B,MAAG,GAD9B;AACmC,MAAG,GADtC;AAC2C,MAAG,GAD9C;AACmD,MAAG,GADtD;AAC2D,MAAG,GAD9D;AACmE,MAAG,GADtE;AAEb,MAAG,GAFU;AAEL,MAAG,GAFE;AAEG,MAAG,GAFN;AAEW,MAAG,GAFd;AAEmB,MAAG,GAFtB;AAE2B,MAAG,GAF9B;AAEmC,MAAG,GAFtC;AAE2C,MAAG,GAF9C;AAEmD,MAAG,GAFtD;AAE2D,MAAG,GAF9D;AAEmE,MAAG,GAFtE;AAE2E,MAAG,GAF9E;AAGb,MAAG,GAHU;AAGL,MAAG,GAHE;AAGG,MAAG,GAHN;AAGW,MAAG,GAHd;AAGmB,MAAG,GAHtB;AAG2B,MAAG,GAH9B;AAGmC,MAAG,GAHtC;AAG2C,MAAG,GAH9C;AAGmD,MAAG,GAHtD;AAG2D,MAAG,GAH9D;AAGmE,MAAG,GAHtE;AAG2E,MAAG,GAH9E;AAGmF,MAAG,GAHtF;AAG2F,MAAG,GAH9F;AAIb,MAAG,GAJU;AAIL,MAAG,GAJE;AAIG,MAAG,GAJN;AAIW,MAAG,GAJd;AAImB,OAAI,GAJvB;AAI4B,OAAI,GAJhC;AAIqC,OAAI,GAJzC;AAI8C,OAAI,GAJlD;AAIuD,OAAI,GAJ3D;AAIgE,OAAI;AAJpE,CAAjB;;AAOAd,CAAC,CAACe,EAAF,CAAKZ,gBAAL,GAAwB,UAASa,QAAT,EAAmB;AAEvCA,EAAAA,QAAQ,GAAGC,MAAM,CAACC,MAAP,CAAc;AACrBC,IAAAA,cAAc,EAAE;AADK,GAAd,EAERH,QAFQ,CAAX,CAFuC,CAMvC;;AACAhB,EAAAA,CAAC,CAAC,IAAD,CAAD,CAAQoB,IAAR,CAAa,MAAb,EAAqB,SAArB,EAAgCC,IAAhC,CAAqC,IAArC,EAA2CD,IAA3C,CAAgD,MAAhD,EAAwD,UAAxD;AAEA,MAAIE,eAAe,GAAGtB,CAAC,CAAC,IAAD,CAAD,CAAQqB,IAAR,CAAa,UAAb,CAAtB,CATuC,CAWvC;AACA;AACA;AACA;AAEA;;AACArB,EAAAA,CAAC,CAACsB,eAAD,CAAD,CAAmBT,IAAnB,CAAwB,IAAxB,EACKO,IADL,CACU,WADV,EACsB,MADtB,EAEKA,IAFL,CAEU;AAAE,mBAAe,MAAjB;AAAyB,YAAQ;AAAjC,GAFV,EAGKC,IAHL,CAGU,GAHV,EAIKD,IAJL,CAIU,UAJV,EAIqB,CAAC,CAJtB,EAjBuC,CAuBvC;;AACApB,EAAAA,CAAC,CAACsB,eAAD,CAAD,CAAmBC,IAAnB,CAAwB,YAAU;AAC9B,QAAGvB,CAAC,CAAC,IAAD,CAAD,CAAQa,IAAR,CAAa,IAAb,EAAmBW,MAAnB,GAA4B,CAA/B,EACIxB,CAAC,CAAC,IAAD,CAAD,CAAQyB,MAAR,CAAe,IAAf,EAAqBL,IAArB,CAA0B,eAA1B,EAA2C,MAA3C;AACP,GAHD;AAKApB,EAAAA,CAAC,CAACsB,eAAD,CAAD,CAAmBI,KAAnB,CAAyB,YAAU;AAC/B1B,IAAAA,CAAC,CAAC,IAAD,CAAD,CAAQ2B,OAAR,CAAgB,IAAhB,EACKP,IADL,CACU,aADV,EACyB,OADzB,EAEKC,IAFL,CAEU,MAAIL,QAAQ,CAACG,cAFvB,EAGKC,IAHL,CAGU,aAHV,EAGyB,MAHzB,EAIKQ,WAJL,CAIiBZ,QAAQ,CAACG,cAJ1B,EAKKE,IALL,CAKU,GALV,EAMKD,IANL,CAMU,UANV,EAMqB,CAAC,CANtB;AAOApB,IAAAA,CAAC,CAAC,IAAD,CAAD,CAAQa,IAAR,CAAa,IAAb,EACKO,IADL,CACU,aADV,EACyB,OADzB,EAEKhB,QAFL,CAEcY,QAAQ,CAACG,cAFvB,EAGKE,IAHL,CAGU,GAHV,EAGeD,IAHf,CAGoB,UAHpB,EAG+B,CAH/B;AAIH,GAZD;AAcApB,EAAAA,CAAC,CAACsB,eAAD,CAAD,CAAmBO,KAAnB,CAAyB,YAAU;AAC/B7B,IAAAA,CAAC,CAAC,IAAD,CAAD,CAAQ2B,OAAR,CAAgB,IAAhB,EACKN,IADL,CACU,MAAIL,QAAQ,CAACG,cADvB,EAEKC,IAFL,CAEU,aAFV,EAEyB,MAFzB,EAGKQ,WAHL,CAGiBZ,QAAQ,CAACG,cAH1B,EAIKE,IAJL,CAIU,GAJV,EAKKD,IALL,CAKU,UALV,EAKqB,CAAC,CALtB;AAOJpB,IAAAA,CAAC,CAAC,IAAD,CAAD,CAAQa,IAAR,CAAa,IAAb,EACKO,IADL,CACU,aADV,EACyB,OADzB,EAEKhB,QAFL,CAEcY,QAAQ,CAACG,cAFvB,EAGKE,IAHL,CAGU,GAHV,EAGeD,IAHf,CAGoB,UAHpB,EAG+B,CAH/B;AAIC,GAZD,EA3CuC,CAyDvC;;AACApB,EAAAA,CAAC,CAACsB,eAAD,CAAD,CAAmBQ,OAAnB,CAA2B,UAASrB,CAAT,EAAW;AAClC,QAAGA,CAAC,CAACsB,OAAF,IAAa,EAAhB,EAAoB;AAChBtB,MAAAA,CAAC,CAACC,cAAF,GADgB,CAEhB;;AACA,UAAGV,CAAC,CAAC,IAAD,CAAD,CAAQyB,MAAR,CAAe,IAAf,EAAqBO,IAArB,CAA0B,IAA1B,EAAgCR,MAAhC,IAA0C,CAA7C,EAAgD;AAC5CxB,QAAAA,CAAC,CAAC,IAAD,CAAD,CAAQiC,OAAR,CAAgB,IAAhB,EAAsBZ,IAAtB,CAA2B,MAA3B,EAAmCa,IAAnC,GAA0Cb,IAA1C,CAA+C,GAA/C,EAAoDc,KAApD,GAA4DN,KAA5D;AACH,OAFD,MAEO;AACH7B,QAAAA,CAAC,CAAC,IAAD,CAAD,CAAQyB,MAAR,CAAe,IAAf,EAAqBO,IAArB,CAA0B,IAA1B,EAAgCX,IAAhC,CAAqC,GAArC,EAA0Cc,KAA1C,GAAkDN,KAAlD;AACH;AACJ,KARD,MAQO,IAAGpB,CAAC,CAACsB,OAAF,IAAa,EAAhB,EAAoB;AACvBtB,MAAAA,CAAC,CAACC,cAAF;;AACA,UAAGV,CAAC,CAAC,IAAD,CAAD,CAAQyB,MAAR,CAAe,IAAf,EAAqBJ,IAArB,CAA0B,IAA1B,EAAgCG,MAAhC,GAAyC,CAA5C,EAA+C;AAC3CxB,QAAAA,CAAC,CAAC,IAAD,CAAD,CAAQyB,MAAR,CAAe,IAAf,EAAqBJ,IAArB,CAA0B,IAA1B,EACKD,IADL,CACU,aADV,EACyB,OADzB,EAEKhB,QAFL,CAEcY,QAAQ,CAACG,cAFvB,EAGKE,IAHL,CAGU,GAHV,EAGeD,IAHf,CAGoB,UAHpB,EAG+B,CAH/B,EAIKc,IAJL,GAIYL,KAJZ;AAKH;AACJ,KATM,MASA,IAAGpB,CAAC,CAACsB,OAAF,IAAa,EAAhB,EAAoB;AACvBtB,MAAAA,CAAC,CAACC,cAAF,GADuB,CAEvB;;AACA,UAAGV,CAAC,CAAC,IAAD,CAAD,CAAQyB,MAAR,CAAe,IAAf,EAAqBZ,IAArB,CAA0B,IAA1B,EAAgCW,MAAhC,IAA0C,CAA7C,EAAgD;AAC5CxB,QAAAA,CAAC,CAAC,IAAD,CAAD,CAAQiC,OAAR,CAAgB,IAAhB,EAAsBZ,IAAtB,CAA2B,MAA3B,EAAmCc,KAAnC,GAA2Cd,IAA3C,CAAgD,GAAhD,EAAqDc,KAArD,GAA6DN,KAA7D;AACH,OAFD,MAEO;AACH7B,QAAAA,CAAC,CAAC,IAAD,CAAD,CAAQyB,MAAR,CAAe,IAAf,EAAqBZ,IAArB,CAA0B,IAA1B,EAAgCQ,IAAhC,CAAqC,GAArC,EAA0Cc,KAA1C,GAAkDN,KAAlD;AACH;AACJ,KARM,MAQA,IAAGpB,CAAC,CAACsB,OAAF,IAAa,EAAhB,EAAoB;AACvBtB,MAAAA,CAAC,CAACC,cAAF;;AACA,UAAGV,CAAC,CAAC,IAAD,CAAD,CAAQyB,MAAR,CAAe,IAAf,EAAqBJ,IAArB,CAA0B,IAA1B,EAAgCG,MAAhC,GAAyC,CAA5C,EAA+C;AAC3CxB,QAAAA,CAAC,CAAC,IAAD,CAAD,CAAQyB,MAAR,CAAe,IAAf,EAAqBJ,IAArB,CAA0B,IAA1B,EACKD,IADL,CACU,aADV,EACyB,OADzB,EAEKhB,QAFL,CAEcY,QAAQ,CAACG,cAFvB,EAGKE,IAHL,CAGU,GAHV,EAGeD,IAHf,CAGoB,UAHpB,EAG+B,CAH/B,EAIKe,KAJL,GAIaN,KAJb;AAKH;AACJ,KATM,MASA,IAAGpB,CAAC,CAACsB,OAAF,IAAa,EAAb,IAAmBtB,CAAC,CAACsB,OAAF,IAAa,EAAnC,EAAuC;AAC1C;AACAtB,MAAAA,CAAC,CAACC,cAAF;AACAV,MAAAA,CAAC,CAAC,IAAD,CAAD,CAAQyB,MAAR,CAAe,IAAf,EAAqBJ,IAArB,CAA0B,sBAA1B,EACSD,IADT,CACc,aADd,EAC6B,OAD7B,EAEShB,QAFT,CAEkBY,QAAQ,CAACG,cAF3B,EAGSE,IAHT,CAGc,GAHd,EAGmBD,IAHnB,CAGwB,UAHxB,EAGmC,CAHnC,EAISe,KAJT,GAIiBN,KAJjB;AAKH,KARM,MAQA,IAAGpB,CAAC,CAACsB,OAAF,IAAa,EAAhB,EAAoB;AACvBtB,MAAAA,CAAC,CAACC,cAAF;AACAV,MAAAA,CAAC,CAAC,MAAIgB,QAAQ,CAACG,cAAd,CAAD,CACKC,IADL,CACU,aADV,EACyB,MADzB,EAEKQ,WAFL,CAEiBZ,QAAQ,CAACG,cAF1B,EAGKE,IAHL,CAGU,GAHV,EAIKD,IAJL,CAIU,UAJV,EAIqB,CAAC,CAJtB;AAKH,KAPM,MAOA;AACHpB,MAAAA,CAAC,CAAC,IAAD,CAAD,CAAQyB,MAAR,CAAe,IAAf,EAAqBJ,IAArB,CAA0B,yBAA1B,EAAqDE,IAArD,CAA0D,YAAU;AAChE,YAAGvB,CAAC,CAAC,IAAD,CAAD,CAAQoC,IAAR,GAAeC,SAAf,CAAyB,CAAzB,EAA2B,CAA3B,EAA8BC,WAA9B,MAA+CxB,UAAU,CAACL,CAAC,CAACsB,OAAH,CAA5D,EAAyE;AACrE/B,UAAAA,CAAC,CAAC,IAAD,CAAD,CAAQ6B,KAAR;AACA,iBAAO,KAAP;AACH;AACJ,OALD;AAMH;AACJ,GA1DD;AA6DA,MAAIU,KAAK,GAAGvC,CAAC,CAACsB,eAAD,CAAD,CAAmBG,MAAnB,CAA0B,IAA1B,EAAgCJ,IAAhC,CAAqC,IAArC,EAA2CA,IAA3C,CAAgD,GAAhD,CAAZ;AACArB,EAAAA,CAAC,CAACuC,KAAD,CAAD,CAAST,OAAT,CAAiB,UAASrB,CAAT,EAAW;AACxB,QAAGA,CAAC,CAACsB,OAAF,IAAa,EAAhB,EAAoB;AAChBtB,MAAAA,CAAC,CAACC,cAAF,GADgB,CAEhB;;AACA,UAAGV,CAAC,CAAC,IAAD,CAAD,CAAQyB,MAAR,CAAe,IAAf,EAAqBO,IAArB,CAA0B,IAA1B,EAAgCR,MAAhC,IAA0C,CAA7C,EAAgD;AAC5CxB,QAAAA,CAAC,CAAC,IAAD,CAAD,CAAQiC,OAAR,CAAgB,IAAhB,EAAsBA,OAAtB,CAA8B,IAA9B,EAAoCZ,IAApC,CAAyC,GAAzC,EAA8Cc,KAA9C,GAAsDN,KAAtD;AACH,OAFD,MAEO;AACH7B,QAAAA,CAAC,CAAC,IAAD,CAAD,CAAQyB,MAAR,CAAe,IAAf,EAAqBO,IAArB,CAA0B,IAA1B,EAAgCX,IAAhC,CAAqC,GAArC,EAA0Cc,KAA1C,GAAkDN,KAAlD;AACH;AACJ,KARD,MAQO,IAAGpB,CAAC,CAACsB,OAAF,IAAa,EAAhB,EAAoB;AACvBtB,MAAAA,CAAC,CAACC,cAAF;;AACA,UAAGV,CAAC,CAAC,IAAD,CAAD,CAAQyB,MAAR,CAAe,IAAf,EAAqBZ,IAArB,CAA0B,IAA1B,EAAgCW,MAAhC,IAA0C,CAA7C,EAAgD;AAC5CxB,QAAAA,CAAC,CAAC,IAAD,CAAD,CAAQiC,OAAR,CAAgB,IAAhB,EAAsBA,OAAtB,CAA8B,IAA9B,EAAoCZ,IAApC,CAAyC,GAAzC,EAA8Cc,KAA9C,GAAsDN,KAAtD;AACH,OAFD,MAEO;AACH7B,QAAAA,CAAC,CAAC,IAAD,CAAD,CAAQyB,MAAR,CAAe,IAAf,EAAqBZ,IAArB,CAA0B,IAA1B,EAAgCQ,IAAhC,CAAqC,GAArC,EAA0Cc,KAA1C,GAAkDN,KAAlD;AACH;AACJ,KAPM,MAOA,IAAGpB,CAAC,CAACsB,OAAF,IAAa,EAAb,IAAmBtB,CAAC,CAACsB,OAAF,IAAa,EAAnC,EAAuC;AAC1CtB,MAAAA,CAAC,CAACC,cAAF;AACAV,MAAAA,CAAC,CAAC,IAAD,CAAD,CACKiC,OADL,CACa,IADb,EACmBE,KADnB,GAESH,IAFT,CAEc,GAFd,EAEmBH,KAFnB,GAGSI,OAHT,CAGiB,IAHjB,EAGuBE,KAHvB,GAG+Bd,IAH/B,CAGoC,MAAIL,QAAQ,CAACG,cAHjD,EAISC,IAJT,CAIc,aAJd,EAI6B,MAJ7B,EAKSQ,WALT,CAKqBZ,QAAQ,CAACG,cAL9B,EAMSE,IANT,CAMc,GANd,EAOSD,IAPT,CAOc,UAPd,EAOyB,CAAC,CAP1B;AAQH,KAVM,MAUA,IAAGX,CAAC,CAACsB,OAAF,IAAa,EAAhB,EAAoB;AACvBtB,MAAAA,CAAC,CAACC,cAAF;AACA8B,MAAAA,MAAM,CAACC,QAAP,GAAkBzC,CAAC,CAAC,IAAD,CAAD,CAAQoB,IAAR,CAAa,MAAb,CAAlB;AACH,KAHM,MAGA;AACH,UAAIsB,KAAK,GAAG,KAAZ;AACA1C,MAAAA,CAAC,CAAC,IAAD,CAAD,CAAQyB,MAAR,CAAe,IAAf,EAAqBkB,OAArB,CAA6B,IAA7B,EAAmCtB,IAAnC,CAAwC,GAAxC,EAA6CE,IAA7C,CAAkD,YAAU;AACxD,YAAGvB,CAAC,CAAC,IAAD,CAAD,CAAQoC,IAAR,GAAeC,SAAf,CAAyB,CAAzB,EAA2B,CAA3B,EAA8BC,WAA9B,MAA+CxB,UAAU,CAACL,CAAC,CAACsB,OAAH,CAA5D,EAAyE;AACrE/B,UAAAA,CAAC,CAAC,IAAD,CAAD,CAAQ6B,KAAR;AACAa,UAAAA,KAAK,GAAG,IAAR;AACA,iBAAO,KAAP;AACH;AACJ,OAND;;AAQA,UAAG,CAACA,KAAJ,EAAW;AACP1C,QAAAA,CAAC,CAAC,IAAD,CAAD,CAAQyB,MAAR,CAAe,IAAf,EAAqBmB,OAArB,CAA6B,IAA7B,EAAmCvB,IAAnC,CAAwC,GAAxC,EAA6CE,IAA7C,CAAkD,YAAU;AACxD,cAAGvB,CAAC,CAAC,IAAD,CAAD,CAAQoC,IAAR,GAAeC,SAAf,CAAyB,CAAzB,EAA2B,CAA3B,EAA8BC,WAA9B,MAA+CxB,UAAU,CAACL,CAAC,CAACsB,OAAH,CAA5D,EAAyE;AACrE/B,YAAAA,CAAC,CAAC,IAAD,CAAD,CAAQ6B,KAAR;AACA,mBAAO,KAAP;AACH;AACJ,SALD;AAMH;AACJ;AACJ,GAhDD,EAxHuC,CA0KvC;;AACA7B,EAAAA,CAAC,CAAC,IAAD,CAAD,CAAQqB,IAAR,CAAa,GAAb,EAAkBa,IAAlB,GAAyBJ,OAAzB,CAAiC,UAASrB,CAAT,EAAW;AACxC,QAAGA,CAAC,CAACsB,OAAF,IAAa,CAAhB,EAAmB;AACf;AACA/B,MAAAA,CAAC,CAAC,MAAIgB,QAAQ,CAACG,cAAd,CAAD,CACKC,IADL,CACU,aADV,EACyB,MADzB,EAEKQ,WAFL,CAEiBZ,QAAQ,CAACG,cAF1B,EAGKE,IAHL,CAGU,GAHV,EAISD,IAJT,CAIc,UAJd,EAIyB,CAAC,CAJ1B;AAKH;AACJ,GATD;AAWJpB,EAAAA,CAAC,CAACC,QAAD,CAAD,CAAYO,KAAZ,CAAkB,YAAU;AAAER,IAAAA,CAAC,CAAC,MAAIgB,QAAQ,CAACG,cAAd,CAAD,CAA+BC,IAA/B,CAAoC,aAApC,EAAmD,MAAnD,EAA2DQ,WAA3D,CAAuEZ,QAAQ,CAACG,cAAhF,EAAgGE,IAAhG,CAAqG,GAArG,EAA0GD,IAA1G,CAA+G,UAA/G,EAA0H,CAAC,CAA3H;AAAgI,GAA9J;AAEIpB,EAAAA,CAAC,CAAC,IAAD,CAAD,CAAQQ,KAAR,CAAc,UAASC,CAAT,EAAW;AACrBA,IAAAA,CAAC,CAACoC,eAAF;AACH,GAFD;AAGH,CA3LD","file":"js.00a46daa.js","sourceRoot":"../src","sourcesContent":["console.log('parcel works')\n\n$(document).ready(function() {\n    // Setup the a11y nav\n    $('.nav').setup_navigation();\n    \n    // RWD Nav Pattern\n    $('body').addClass('js');\n    var $menu = $('#menu'),\n        $menulink = $('.menu-link'),\n        $menuTrigger = $('.has-subnav > a');\n  \n        $menulink.click(function(e) {\n            e.preventDefault();\n            $menulink.toggleClass('active');\n            $menu.toggleClass('active');\n        });\n          \n        $menuTrigger.click(function(e) {\n            e.preventDefault();\n            var $this = $(this);\n            $this.toggleClass('active').next('ul').toggleClass('active');\n        });\n});\n\nvar keyCodeMap = {\n    48:\"0\", 49:\"1\", 50:\"2\", 51:\"3\", 52:\"4\", 53:\"5\", 54:\"6\", 55:\"7\", 56:\"8\", 57:\"9\", 59:\";\",\n    65:\"a\", 66:\"b\", 67:\"c\", 68:\"d\", 69:\"e\", 70:\"f\", 71:\"g\", 72:\"h\", 73:\"i\", 74:\"j\", 75:\"k\", 76:\"l\",\n    77:\"m\", 78:\"n\", 79:\"o\", 80:\"p\", 81:\"q\", 82:\"r\", 83:\"s\", 84:\"t\", 85:\"u\", 86:\"v\", 87:\"w\", 88:\"x\", 89:\"y\", 90:\"z\",\n    96:\"0\", 97:\"1\", 98:\"2\", 99:\"3\", 100:\"4\", 101:\"5\", 102:\"6\", 103:\"7\", 104:\"8\", 105:\"9\"\n}\n  \n$.fn.setup_navigation = function(settings) {\n  \n    settings = jQuery.extend({\n        menuHoverClass: 'show-menu',\n    }, settings);\n    \n    // Add ARIA role to menubar and menu items\n    $(this).attr('role', 'menubar').find('li').attr('role', 'menuitem');\n    \n    var top_level_links = $(this).find('> li > a');\n\n    // Added by Terrill: (removed temporarily: doesn't fix the JAWS problem after all)\n    // Add tabindex=\"0\" to all top-level links \n    // Without at least one of these, JAWS doesn't read widget as a menu, despite all the other ARIA\n    //$(top_level_links).attr('tabindex','0');\n    \n    // Set tabIndex to -1 so that top_level_links can't receive focus until menu is open\n    $(top_level_links).next('ul')\n        .attr('data-test','true')\n        .attr({ 'aria-hidden': 'true', 'role': 'menu' })\n        .find('a')\n        .attr('tabIndex',-1);\n    \n    // Adding aria-haspopup for appropriate items\n    $(top_level_links).each(function(){\n        if($(this).next('ul').length > 0)\n            $(this).parent('li').attr('aria-haspopup', 'true');\n    });\n    \n    $(top_level_links).hover(function(){\n        $(this).closest('ul') \n            .attr('aria-hidden', 'false')\n            .find('.'+settings.menuHoverClass)\n            .attr('aria-hidden', 'true')\n            .removeClass(settings.menuHoverClass)\n            .find('a')\n            .attr('tabIndex',-1);\n        $(this).next('ul')\n            .attr('aria-hidden', 'false')\n            .addClass(settings.menuHoverClass)\n            .find('a').attr('tabIndex',0);\n    });\n\n    $(top_level_links).focus(function(){\n        $(this).closest('ul')\n            .find('.'+settings.menuHoverClass)\n            .attr('aria-hidden', 'true')\n            .removeClass(settings.menuHoverClass)\n            .find('a')\n            .attr('tabIndex',-1);\n        \n    $(this).next('ul')\n        .attr('aria-hidden', 'false')\n        .addClass(settings.menuHoverClass)\n        .find('a').attr('tabIndex',0);\n    });\n    \n    // Bind arrow keys for navigation\n    $(top_level_links).keydown(function(e){\n        if(e.keyCode == 37) {\n            e.preventDefault();\n            // This is the first item\n            if($(this).parent('li').prev('li').length == 0) {\n                $(this).parents('ul').find('> li').last().find('a').first().focus();\n            } else {\n                $(this).parent('li').prev('li').find('a').first().focus();\n            }\n        } else if(e.keyCode == 38) {\n            e.preventDefault();\n            if($(this).parent('li').find('ul').length > 0) {\n                $(this).parent('li').find('ul')\n                    .attr('aria-hidden', 'false')\n                    .addClass(settings.menuHoverClass)\n                    .find('a').attr('tabIndex',0)\n                    .last().focus();\n            }\n        } else if(e.keyCode == 39) {\n            e.preventDefault();\n            // This is the last item\n            if($(this).parent('li').next('li').length == 0) {\n                $(this).parents('ul').find('> li').first().find('a').first().focus();\n            } else {\n                $(this).parent('li').next('li').find('a').first().focus();\n            }\n        } else if(e.keyCode == 40) {\n            e.preventDefault();\n            if($(this).parent('li').find('ul').length > 0) {\n                $(this).parent('li').find('ul')\n                    .attr('aria-hidden', 'false')\n                    .addClass(settings.menuHoverClass)\n                    .find('a').attr('tabIndex',0)\n                    .first().focus();\n            }\n        } else if(e.keyCode == 13 || e.keyCode == 32) {\n            // If submenu is hidden, open it\n            e.preventDefault();\n            $(this).parent('li').find('ul[aria-hidden=true]')\n                    .attr('aria-hidden', 'false')\n                    .addClass(settings.menuHoverClass)\n                    .find('a').attr('tabIndex',0)\n                    .first().focus();\n        } else if(e.keyCode == 27) {\n            e.preventDefault();\n            $('.'+settings.menuHoverClass)\n                .attr('aria-hidden', 'true')\n                .removeClass(settings.menuHoverClass)\n                .find('a')\n                .attr('tabIndex',-1);\n        } else {\n            $(this).parent('li').find('ul[aria-hidden=false] a').each(function(){\n                if($(this).text().substring(0,1).toLowerCase() == keyCodeMap[e.keyCode]) {\n                    $(this).focus();\n                    return false;\n                }\n            });\n        }\n    });\n    \n    \n    var links = $(top_level_links).parent('li').find('ul').find('a');\n    $(links).keydown(function(e){\n        if(e.keyCode == 38) {\n            e.preventDefault();\n            // This is the first item\n            if($(this).parent('li').prev('li').length == 0) {\n                $(this).parents('ul').parents('li').find('a').first().focus();\n            } else {\n                $(this).parent('li').prev('li').find('a').first().focus();\n            }\n        } else if(e.keyCode == 40) {\n            e.preventDefault();\n            if($(this).parent('li').next('li').length == 0) {\n                $(this).parents('ul').parents('li').find('a').first().focus();\n            } else {\n                $(this).parent('li').next('li').find('a').first().focus();\n            }\n        } else if(e.keyCode == 27 || e.keyCode == 37) {\n            e.preventDefault();\n            $(this)\n                .parents('ul').first()\n                    .prev('a').focus()\n                    .parents('ul').first().find('.'+settings.menuHoverClass)\n                    .attr('aria-hidden', 'true')\n                    .removeClass(settings.menuHoverClass)\n                    .find('a')\n                    .attr('tabIndex',-1);\n        } else if(e.keyCode == 32) {\n            e.preventDefault();\n            window.location = $(this).attr('href');\n        } else {\n            var found = false;\n            $(this).parent('li').nextAll('li').find('a').each(function(){\n                if($(this).text().substring(0,1).toLowerCase() == keyCodeMap[e.keyCode]) {\n                    $(this).focus();\n                    found = true;\n                    return false;\n                }\n            });\n            \n            if(!found) {\n                $(this).parent('li').prevAll('li').find('a').each(function(){\n                    if($(this).text().substring(0,1).toLowerCase() == keyCodeMap[e.keyCode]) {\n                        $(this).focus();\n                        return false;\n                    }\n                });\n            }\n        }\n    });\n\n    // Hide menu if click or focus occurs outside of navigation\n    $(this).find('a').last().keydown(function(e){ \n        if(e.keyCode == 9) {\n            // If the user tabs out of the navigation hide all menus\n            $('.'+settings.menuHoverClass)\n                .attr('aria-hidden', 'true')\n                .removeClass(settings.menuHoverClass)\n                .find('a')\n                    .attr('tabIndex',-1);\n        }\n    });\n\n$(document).click(function(){ $('.'+settings.menuHoverClass).attr('aria-hidden', 'true').removeClass(settings.menuHoverClass).find('a').attr('tabIndex',-1); });\n    \n    $(this).click(function(e){\n        e.stopPropagation();\n    });\n}\n"]}